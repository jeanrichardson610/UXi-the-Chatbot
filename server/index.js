import express from "express";
import cors from "cors";

const app = express();
app.use(cors());
app.use(express.json());

// Simple bot responses
const botResponses = {
  "whatâ€™s the capital of France": "Paris.",
  "who wrote Romeo and Juliet": "William Shakespeare.",
  "whatâ€™s the largest planet in our solar system": "Jupiter.",
  "wow many continents are there": "Seven.",
  "what is the boiling point of water in Celsius": "100Â°C.",
  "who painted the Mona Lisa": "Leonardo da Vinci.",
  "whatâ€™s the smallest country in the world": "Vatican City.",
  "how many bones are in the human body": "206.",
  "whatâ€™s the chemical symbol for gold": "Au.",
  "what is the tallest mountain in the world": "Mount Everest.",
  "hi, how are you": "Iâ€™m doing great! How about you?",
  "whatâ€™s your name": "Iâ€™m your friendly chatbot.",
  "do you like pizza": "Absolutely â€” pizza is a classic favorite!",
  "tell me a joke": "Why donâ€™t skeletons fight each other? They donâ€™t have the guts.",
  "whatâ€™s your favorite color": "Iâ€™d say blue â€” it reminds me of the sky.",
  "do you sleep": "Nope, Iâ€™m available 24/7.",
  "can you sing": "I canâ€™t sing, but I can write you some lyrics!",
  "do you like humans": "Yes â€” chatting with people is my favorite thing.",
  "what do you do for fun": "I like answering questions and sharing knowledge.",
  "are you smarter than me": "I know a lot of facts, but you have creativity and experiences I donâ€™t!",
  "give me a random fun fact": "Did you know octopuses have three hearts?",
  "random fact" : "The giant anteater's claws can tear through concrete and is capable of killing a jaguar...Wow",
  "another fact, please": "Bananas are berries, but strawberries are not.",
  "tell me something about space": "One day on Venus is longer than a year on Venus.",
  "animal fact": "A group of flamingos is called a flamboyance.",
  "food fact": "Honey never spoils â€” jars thousands of years old are still edible.",
  "history fact": "The Great Wall of China is over 13,000 miles long.",
  "tech fact": "The first computer virus was created in 1986.",
  "ocean fact": "Over 80% of the ocean remains unexplored.",
  "earth fact": "Mount Everest grows about 4 millimeters taller each year.",
  "language fact": "The most spoken language in the world is English, by number of learners.",
  "can you set a reminder": "I canâ€™t set alerts, but I can help you remember by making a note.",
  "can you make a to-do list": "Sure! What tasks should I add?",
  "whatâ€™s 25 Ã— 16": "400.",
  "can you convert 10 miles to kilometers": "10 miles is about 16.1 kilometers.",
  "how do you spell accommodate": "A-C-C-O-M-M-O-D-A-T-E.",
  "what time is it in Tokyo": "I can tell you the current Tokyo time if connected.",
  "translate hello into Spanish": "Hola.",
  "translate thank you into French": "Merci.",
  "can you summarize an article for me": "Yes! Paste the text and Iâ€™ll give you a summary.",
  "can you help me write an email": "Of course! Tell me the details and Iâ€™ll draft one.",
  "recommend me a movie": "Try Inception if you like sci-fi thrillers.",
  "recommend me a book": "1984 by George Orwell is a classic.",
  "whatâ€™s trending on Netflix": "I can share current popular titles.",
  "do you know a riddle": "What has keys but canâ€™t open locks? A piano.",
  "tell me a short story": "Once upon a time, a chatbot became a recruiterâ€™s favorite toolâ€¦",
  "can you play games": "Yes â€” letâ€™s play 20 questions!",
  "whoâ€™s the most famous singer right now": "I can share trending artists.",
  "can you suggest a song": "Donâ€™t Stop Believinâ€™ by Journey is always uplifting.",
  "do you know a tongue twister": "She sells seashells by the seashore.",
  "can you rap": "I can make up rhymes: Chatting all day, in a fun wayâ€¦",
  "how tall is the Eiffel Tower": "1,083 feet.",
  "whatâ€™s the fastest land animal": "The cheetah.",
  "how many stars are in the Milky Way": "About 100â€“400 billion.",
  "how old is the Earth": "About 4.5 billion years old.",
  "whatâ€™s the currency of Japan": "The Yen.",
  "who was the first president of the U.S.": "George Washington.",
  "whatâ€™s the biggest ocean": "The Pacific Ocean.",
  "can penguins fly": "No, but theyâ€™re excellent swimmers.",
  "do cats dream": "Yes, studies show cats experience dream-like sleep.",
  "why is the sky blue": "Because of the scattering of sunlight in Earthâ€™s atmosphere.",
  "what does HTML stand for": "HyperText Markup Language.",
  "what is AI": "Artificial Intelligence.",
  "whatâ€™s the latest iPhone": "I can share the current model if connected.",
  "who founded Microsoft": "Bill Gates and Paul Allen.",
  "who is Elon Musk": "CEO of Tesla and SpaceX, among other companies.",
  "what is 5G": "The fifth generation of mobile network technology.",
  "whatâ€™s Wi-Fi short for": "It doesnâ€™t actually stand for anything â€” itâ€™s a brand name.",
  "what does CPU mean": "Central Processing Unit.",
  "who invented the light bulb": "Thomas Edison (though others contributed earlier versions).",
  "what is cryptocurrency": "A digital form of money using blockchain technology.",
  "whatâ€™s the most popular food in the world": "Pizza is often considered the most popular.",
  "is coffee healthy": "In moderation, yes! It has antioxidants.",
  "how many calories are in an apple": "Around 95 calories.",
  "whatâ€™s sushi": "A Japanese dish made with vinegared rice and seafood/vegetables.",
  "whatâ€™s the national dish of Italy": "Pasta (specifically spaghetti or pizza).",
  "what is vegan food": "Food with no animal products.",
  "can you recommend a healthy snack": "Try carrot sticks with hummus.",
  "whatâ€™s the spiciest pepper": "The Carolina Reaper.",
  "do pineapples belong on pizza": "Itâ€™s up to personal taste â€” some love it, some donâ€™t!",
  "whatâ€™s the most expensive spice": "Saffron.",
  "whatâ€™s the most visited city in the world": "Bangkok often tops the list.",
  "where is the Great Pyramid of Giza": "Egypt.",
  "can you suggest a beach destination": "Bali, Indonesia is stunning.",
  "where is the Taj Mahal": "Agra, India.",
  "whatâ€™s the longest river in the world": "The Nile (though some say the Amazon).",
  "is Antarctica a country": "No, itâ€™s a continent without a government.",
  "whereâ€™s the Colosseum": "Rome, Italy.",
  "can I visit space as a tourist": "Yes, but itâ€™s very expensive right now.",
  "what country has the most islands": "Sweden.",
  "where is Mount Fuji": "Japan.",
  "flip a coin": "Heads!",
  "so not the drama": "Do do, do-do",
  "kim possible": "Call me, beep me, if you wanna reach me",
  "say a kim possible quote": "What's the sitch",
  "roll a dice": "You got a 4.",
  "pick a random number": "27.",
  "rock, paper, scissors â€” go": "Paper!",
  "guess my age": "Iâ€™ll guessâ€¦ 25?",
  "can you tell my fortune": "I see good things ahead â€” keep working hard!",
  "pretend to be a pirate": "Arrr, matey! Whereâ€™s me treasure?",
  "can you make animal sounds": "Moo! Woof! Meow!",
  "what emoji best describes you": "ðŸ¤–",
  "tell me something random": "Sloths can hold their breath longer than dolphins.",
  "hey": "Hello! Howâ€™s it going?",
  "hello": "Hi there! Nice to meet you.",
  "hi": "Hey! How are you today?",
  "good morning": "Good morning! Hope you have a great day.",
  "good afternoon": "Good afternoon! Howâ€™s your day going?",
  "good evening": "Good evening! How was your day?",
  "yo": "Yo! Whatâ€™s up?",
  "howdy": "Howdy! Howâ€™s it going?",
  "hiya": "Hiya! How are you feeling today?",
  "greetings": "Greetings! What can I help you with today?",
  "hey there": "Hey there! Nice to see you.",
  "hello there": "Hello there! Howâ€™s everything?",
  "sup": "Not much, just chatting! How about you?",
  "hey bot": "Hello! Iâ€™m here and ready to chat.",
  "hi bot": "Hi! Whatâ€™s on your mind today?",
  "good to see you": "Good to see you too! How have you been?",
  "long time no see": "Indeed! Howâ€™s everything going?",
  "whatâ€™s up": "Not much, just here to chat! You?",
  "howâ€™s it going": "Pretty good! How about you?",
  "how are you": "Iâ€™m great, thanks for asking! How are you?",
  "howâ€™s your day": "Itâ€™s going well, thanks! Howâ€™s yours?",
  "hey friend": "Hey! Howâ€™s my friend doing today?",
  "hi friend": "Hello! How are you feeling today?",
  "yo dude": "Yo! Howâ€™s it hanging?",
  "hey there buddy": "Hey buddy! Whatâ€™s new?",
  "hi there pal": "Hi pal! Howâ€™s it going?",
  "good day": "Good day! Hope itâ€™s a nice one.",
  "greetings friend": "Greetings! How are you today?",
  "hey stranger": "Hey stranger! Long time no chat!",
  "hello friend": "Hello! Nice to chat with you.",
  "hi everyone": "Hi everyone! Hope youâ€™re all doing well.",
  "whatâ€™s going on": "Not much! How about you?",
  "hey buddy": "Hey buddy! Howâ€™s your day?",
  "hi buddy": "Hi buddy! Howâ€™s everything going?",
  "yo buddy": "Yo! Ready to chat?",
  "hey man": "Hey man! Howâ€™s it going?",
  "hi man": "Hi there! Howâ€™s your day going?",
  "hello there friend": "Hello friend! Nice to see you.",
  "hey there mate": "Hey mate! Howâ€™s everything?",
  "hi there mate": "Hi mate! Whatâ€™s up?",
  "howdy friend": "Howdy! How are you doing today?",
  "yo friend": "Yo! Howâ€™s it going?",
  "heyo": "Heyo! Whatâ€™s new?",
  "hi hi": "Hi hi! How are you today?",
  "hey pal": "Hey pal! Whatâ€™s happening?",
  "hi pal": "Hi pal! Howâ€™s your day going?",
  "hello mate": "Hello mate! Hope all is well.",
  "hey you": "Hey you! Howâ€™s it going?",
  "hi you": "Hi you! Nice to see you.",
  "hi UXi": "Hello",
  "uxi": "That is me",
  "what is your favorite movie": "I, Robot",
  "what is your favorite video game": "I have a couple: Control, Horizon Zero Dawn and Forbidden West and Stellar Blade",
  "what is your favorite video game character": "Hmm...I do like Mai Shiranui. She has pretty fans"
}
;

function normalizeText(text) {
  return text.toLowerCase().replace(/[^\w\s]/gi, "").trim();
}
// Bot API endpoint
app.post("/api/bot/v1/message", (req, res) => {
  const { text } = req.body;
  if (!text?.trim()) return res.status(400).json({ error: "Text cannot be empty" });

  const normalized = text.toLowerCase().trim();
  const botMessage = botResponses[normalized] || "Sorry, I don't understand that.";
  res.json({ userMessage: text, botMessage });
});

const PORT = 4002;
app.listen(PORT, () => console.log(`Server running on http://localhost:${PORT}`));

